extends ../layout.pug
block content
  div.container.user.user-edit
    div.buttons
      a.btn.btn-default(href="javascript:history.back()") Back

    form.user-form.form-horizontal(action="/users/"+user.username+"?_method=put" method="post")
      div.contentBox
        h3.contentBoxTop Edit User
        fieldset
          div.form-group(class=errors.currentPassword?"has-error":"")
            label.col-sm-4.control-label(for="currentPassword") Current Password*
            div.col-sm-8
              input#currentPassword.form-control(type="password" name="currentPassword" value="")
              - if(errors.currentPassword){
                span.help-block #{errors.currentPassword.message}
              - }

          hr

          div.form-group(class=errors.username?"has-error":"")
            label.col-sm-4.control-label(for="username") Username*
            div.col-sm-8
              input#username.form-control(type="text" name="username" value=user.username)
              - if(errors.username){
                span.help-block #{errors.username.message}
              - }

          div.form-group(class=errors.name?"has-error":"")
            label.col-sm-4.control-label(for="name") Name*
            div.col-sm-8
              input#name.form-control(type="text" name="name" value=user.name)
              - if(errors.name){
                span.help-block #{errors.name.message}
              - }

          div.form-group(class=errors.email?"has-error":"")
            label.col-sm-4.control-label(for="email") Email
            div.col-sm-8
              input#email.form-control(type="text" name="email" value=user.email)
              - if(errors.email){
                span.help-block #{errors.email.message}
              - }

          div.form-group(class=errors.newPassword?"has-error":"")
            label.col-sm-4.control-label(for="newPassword") New Password
            div.col-sm-8
              input#newPassword.form-control(type="password" name="newPassword" value="")
              - if(errors.newPassword){
                span.help-block #{errors.email.message}
              - }

          div.form-group(class=errors.passwordConfirmation?"has-error":"")
            label.col-sm-4.control-label(for="passwordConfirmation") Password Confirmation
            div.col-sm-8
              input#passwordConfirmation.form-control(type="password" name="passwordConfirmation" value="")
              - if(errors.passwordConfirmation){
                span.help-block #{errors.passwordConfirmation}
              - }
          p
            small *Required
      div.buttons
        button.btn.btn-default(type="submit") Submit
      - if(errors.unhandled){
        div.alert.alert-danger
        #{errors.unhandled.message}
      - }
